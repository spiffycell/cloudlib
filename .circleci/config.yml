version: 2.1

jobs:
  build:
    working_directory: ~/cloudlib/
    docker:
      - image: alpine:3.17
    steps:
      - checkout
      - run:
          name: "bootstrap the env"
          command: cicd/bootstrap
      - run:
          name: "build the image"
          command: cicd/build
      - run:
          name: "test the build"
          command: cicd/test
      - run:
          name: "publish the image"
          command: cicd/publish
